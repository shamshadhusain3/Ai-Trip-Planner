import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI('AIzaSyCGH10heGnXYXlf_xTqnw3jWzsUUg3ZAiY');
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
    export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travle Plan for Location :  Las Vegas, for 3 Days for Couple wit a CheapBudget, Give me a Hotel options list with HotelName, Hotel address, Price, Hotel image url, geo Coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image url, Geo coordinates, ticket Pricing, rating, Time travel each o the location for 3 days with each day plan with best time to visit in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"The Orleans Hotel & Casino\",\n      \"hotelAddress\": \"4500 W. Tropicana Ave, Las Vegas, NV 89103\",\n      \"price\": \"$60-$100 per night\",\n      \"hotelImageUrl\": \"https://www.orleanscasino.com/media/wysiwyg/homepage-hero-desktop.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1025,\n        \"longitude\": -115.1783\n      },\n      \"rating\": 4,\n      \"description\": \"A budget-friendly hotel with a casino, several restaurants, and a pool. It's located near the Strip but offers a more relaxed atmosphere.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\",\n      \"hotelImageUrl\": \"https://media.tacdn.com/media/attractions-splice-spp-674-0-3.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1222,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 3.5,\n      \"description\": \"Known for its circus-themed entertainment and affordable rates. It's a great option for families and those on a tight budget.\"\n    },\n    {\n      \"hotelName\": \"The Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$120 per night\",\n      \"hotelImageUrl\": \"https://www.goldennugget.com/media/wysiwyg/homepage-hero.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1699,\n        \"longitude\": -115.1426\n      },\n      \"rating\": 4.5,\n      \"description\": \"A historic hotel with a modern twist. It boasts a vibrant casino, multiple pools, and a shark tank.\"\n    },\n    {\n      \"hotelName\": \"The Strat Hotel, Casino & SkyPod\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$50-$90 per night\",\n      \"hotelImageUrl\": \"https://www.thestrat.com/media/wysiwyg/hero-strat-hero-desktop.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1258,\n        \"longitude\": -115.1715\n      },\n      \"rating\": 4,\n      \"description\": \"Offers a more affordable alternative with an observation deck, a roller coaster, and a variety of restaurants.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": \"Day 1\",\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 12:00 PM\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Walk under the vibrant canopy of lights, enjoy live music, and explore the shops and casinos on Fremont Street.\",\n          \"placeImageUrl\": \"https://www.fremontstreetexperience.com/media/images/freemont-street-experience-header.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1698,\n            \"longitude\": -115.1429\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"12:00 PM - 2:00 PM\",\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"Enjoy a unique dining experience at this restaurant known for its calorie-laden burgers and quirky atmosphere.\",\n          \"placeImageUrl\": \"https://www.heartattackgrill.com/wp-content/uploads/2016/06/Heart-Attack-Grill-01.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1696,\n            \"longitude\": -115.1426\n          },\n          \"ticketPricing\": \"Casual dining, budget-friendly\",\n          \"rating\": 4\n        },\n        {\n          \"time\": \"2:00 PM - 5:00 PM\",\n          \"placeName\": \"The Mob Museum\",\n          \"placeDetails\": \"Learn about the history of organized crime in Las Vegas and the United States.\",\n          \"placeImageUrl\": \"https://www.themobmuseum.org/media/images/header-mob-museum.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1427\n          },\n          \"ticketPricing\": \"$20-$30\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"5:00 PM - 7:00 PM\",\n          \"placeName\": \"The Strip\",\n          \"placeDetails\": \"Take a stroll down the Strip and admire the iconic casinos and hotels.\",\n          \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/hero_image/public/images/hero-image-las-vegas-strip-night-525x294.jpg?itok=e7-x2Z6Q\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1267,\n            \"longitude\": -115.1730\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5\n        },\n        {\n          \"time\": \"7:00 PM - 9:00 PM\",\n          \"placeName\": \"In-N-Out Burger\",\n          \"placeDetails\": \"Enjoy a casual dinner at this popular fast-food chain.\",\n          \"placeImageUrl\": \"https://www.in-n-out.com/images/layout/hero-home-background.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1269,\n            \"longitude\": -115.1724\n          },\n          \"ticketPricing\": \"Budget-friendly\",\n          \"rating\": 4\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 2\",\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 11:00 AM\",\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Explore this stunning botanical garden showcasing a variety of themed displays.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/bellagio/general/bellagio-conservatory.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1185,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"11:00 AM - 1:00 PM\",\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Enjoy a leisurely walk along this outdoor shopping and dining promenade, featuring the High Roller observation wheel.\",\n          \"placeImageUrl\": \"https://www.linq.com/media/wysiwyg/promenade-hero.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1234,\n            \"longitude\": -115.1716\n          },\n          \"ticketPricing\": \"Free to enter, attractions vary in price\",\n          \"rating\": 4\n        },\n        {\n          \"time\": \"1:00 PM - 3:00 PM\",\n          \"placeName\": \"The Venetian and The Palazzo\",\n          \"placeDetails\": \"Explore the canals and enjoy the Italian ambiance of these luxurious resorts.\",\n          \"placeImageUrl\": \"https://www.venetian.com/content/dam/venetian/general/venetian-exterior-night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1276,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": \"Free to enter, attractions vary in price\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"3:00 PM - 5:00 PM\",\n          \"placeName\": \"The Forum Shops at Caesars\",\n          \"placeDetails\": \"Enjoy a shopping spree at this upscale shopping mall.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars-entertainment/las-vegas/caesars-palace/the-forum-shops-at-caesars.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1314,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4\n        },\n        {\n          \"time\": \"5:00 PM - 7:00 PM\",\n          \"placeName\": \"The Eiffel Tower Experience\",\n          \"placeDetails\": \"Enjoy breathtaking views of Las Vegas from the top of a replica of the Eiffel Tower.\",\n          \"placeImageUrl\": \"https://www.parislasvegas.com/content/dam/paris/general/eiffel-tower-exterior-night.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1287,\n            \"longitude\": -115.1733\n          },\n          \"ticketPricing\": \"$25-$35\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"7:00 PM - 9:00 PM\",\n          \"placeName\": \"The Cheesecake Factory\",\n          \"placeDetails\": \"Enjoy a delicious dinner at this popular chain restaurant.\",\n          \"placeImageUrl\": \"https://www.thecheesecakefactory.com/images/header/cheesecake-factory-logo.svg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1270,\n            \"longitude\": -115.1729\n          },\n          \"ticketPricing\": \"Casual dining, mid-range\",\n          \"rating\": 4\n        }\n      ]\n    },\n    {\n      \"day\": \"Day 3\",\n      \"plan\": [\n        {\n          \"time\": \"9:00 AM - 11:00 AM\",\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Explore this stunning desert landscape with its red rock formations.\",\n          \"placeImageUrl\": \"https://www.nps.gov/redr/learn/nature/images/redrockcanyon-sunset.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1837,\n            \"longitude\": -115.2903\n          },\n          \"ticketPricing\": \"$7 per vehicle\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"11:00 AM - 1:00 PM\",\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Take a day trip to Hoover Dam, one of the most iconic engineering feats in the world.\",\n          \"placeImageUrl\": \"https://www.nps.gov/hove/learn/nature/images/hoover-dam-wide-view.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0132,\n            \"longitude\": -114.9840\n          },\n          \"ticketPricing\": \"Free to view from the dam, tours available for a fee\",\n          \"rating\": 4.5\n        },\n        {\n          \"time\": \"1:00 PM - 3:00 PM\",\n          \"placeName\": \"Seven Magic Mountains\",\n          \"placeDetails\": \"Admire these colorful, large-scale sculptures in the desert.\",\n          \"placeImageUrl\": \"https://www.sevenmagicmountains.com/images/magic-mountains-02.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0352,\n            \"longitude\": -115.0354\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4\n        },\n        {\n          \"time\": \"3:00 PM - 5:00 PM\",\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Explore this unique shopping and dining area made from repurposed shipping containers.\",\n          \"placeImageUrl\": \"https://www.downtowncontainerpark.com/images/hero/hero-mobile.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1688,\n            \"longitude\": -115.1409\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4\n        },\n        {\n          \"time\": \"5:00 PM - 7:00 PM\",\n          \"placeName\": \"The Peppermill Restaurant & Fireside Lounge\",\n          \"placeDetails\": \"Enjoy a fun and retro dining experience at this iconic restaurant.\",\n          \"placeImageUrl\": \"https://www.thepeppermill.com/images/slider/slider-peppermill-fireside.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1633,\n            \"longitude\": -115.1409\n          },\n          \"ticketPricing\": \"Casual dining, mid-range\",\n          \"rating\": 4.5\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation of the JSON format:**\n\n- **hotelOptions:** A list of hotel options with the following details:\n    - **hotelName**: The name of the hotel.\n    - **hotelAddress**: The address of the hotel.\n    - **price**: The estimated price range for a night's stay.\n    - **hotelImageUrl**: The URL of an image representing the hotel.\n    - **geoCoordinates**: The latitude and longitude coordinates of the hotel.\n    - **rating**: The average rating of the hotel.\n    - **description**: A brief description of the hotel.\n- **itinerary:** A list of daily itineraries with the following details:\n    - **day**: The day of the trip.\n    - **plan**: A list of activities planned for that day, with the following details:\n        - **time**: The suggested time range for the activity.\n        - **placeName**: The name of the place to visit.\n        - **placeDetails**: A brief description of the place.\n        - **placeImageUrl**: The URL of an image representing the place.\n        - **geoCoordinates**: The latitude and longitude coordinates of the place.\n        - **ticketPricing**: Information about ticket prices or cost.\n        - **rating**: The average rating of the place.\n\nThis JSON format provides a structured and organized travel plan for a couple on a cheap budget in Las Vegas. You can customize the itinerary by modifying the activities and time ranges according to your preferences. \n\n**Note:** Prices and availability are subject to change. It's always recommended to check for the latest information and book in advance. \n"},
          ],
        },
      ],
    });
  
   